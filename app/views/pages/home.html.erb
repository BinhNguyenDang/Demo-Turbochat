<div class="container" id="home-container" style="display: flex; background: black;">
  <div class="p-5 mt-4 mb-4 bg-dark border rounded-3 text-center text-white" id="jumbotron" style="flex: 2;">
    <h1 class="display-4">TurboChat</h1>

    <% if current_user %>
      <div class="d-flex justify-content-center align-items-center mb-3">
        <%= image_tag(current_user.avatar_thumbnail, class: "rounded-circle mr-3", style: "width: 50px; height: 50px;") %>
        <span class="lead">Welcome, <%= current_user.email %></span>
      </div>
      <%= link_to "Start Chatting", rooms_path, class: "btn btn-primary mr-2" %>
      <%= link_to "Edit Account", edit_user_registration_path, class: "btn btn-secondary mr-2" %>
      <%= button_to "Logout", destroy_user_session_path, method: :delete, class: "btn btn-danger" %>
    <% else %>
      <p class="lead">Seamless communication is the backbone of modern relationships. Our chat app provides a seamless platform for you to connect with friends, family, and colleagues instantly. Whether you're catching up with loved ones, collaborating on projects, or simply enjoying casual conversations, our app offers a user-friendly interface that keeps you connected anytime, anywhere.</p>
      <%= link_to "Sign Up", new_user_registration_path, class: "btn btn-outline-light" %>
      <%= link_to "Login", new_user_session_path, class: "btn btn-outline-light" %>
    <% end %>
  </div>
  <div class="col-4 m-4" id="public_messages" style="overflow-x: hidden; overflow-y: auto; max-height: 80vh; padding: 0px; flex: 1;">
    <h4 class="text-white" style="font-weight: 300;">Latest Public Messages</h4>
    <%= turbo_stream_from "public_messages"%>
    <% @messages.each do |message| %>
       <%= render "messages/message_preview", message: message %>
    <% end %>
  </div>
</div>
